{"remainingRequest":"D:\\flipClock\\vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\flipClock\\vue\\src\\components\\FlipClock.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\flipClock\\vue\\src\\components\\FlipClock.vue","mtime":1629719946588},{"path":"D:\\flipClock\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\flipClock\\vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\flipClock\\vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\flipClock\\vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgRmxpcHBlciBmcm9tICcuL0ZsaXBwZXInDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ0ZsaXBDbG9jaycsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHRpbWVyOiBudWxsLA0KICAgICAgZmxpcE9ianM6IFtdDQogICAgfQ0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgRmxpcHBlcg0KICB9LA0KICBtZXRob2RzOiB7DQogICAgLy8g5Yid5aeL5YyW5pWw5a2XDQogICAgaW5pdCgpIHsNCiAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpDQogICAgICBsZXQgbm93VGltZVN0ciA9IHRoaXMuZm9ybWF0RGF0ZShuZXcgRGF0ZShub3cuZ2V0VGltZSgpKSwgJ2hoaWlzcycpDQogICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZsaXBPYmpzLmxlbmd0aDsgaSsrKSB7DQogICAgICAgICB0aGlzLmZsaXBPYmpzW2ldLnNldEZyb250KG5vd1RpbWVTdHJbaV0pDQogICAgICAgfQ0KICAgIH0sDQogICAgLy8g5byA5aeL6K6h5pe2DQogICAgcnVuKCkgew0KICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsNCiAgICAgICAgLy8g6I635Y+W5b2T5YmN5pe26Ze0DQogICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpDQogICAgICAgIGxldCBub3dUaW1lU3RyID0gdGhpcy5mb3JtYXREYXRlKG5ldyBEYXRlKG5vdy5nZXRUaW1lKCkgLSAxMDAwKSwgJ2hoaWlzcycpDQogICAgICAgIGxldCBuZXh0VGltZVN0ciA9IHRoaXMuZm9ybWF0RGF0ZShub3csICdoaGlpc3MnKQ0KICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZmxpcE9ianMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICBpZiAobm93VGltZVN0cltpXSA9PT0gbmV4dFRpbWVTdHJbaV0pIHsNCiAgICAgICAgICAgIGNvbnRpbnVlDQogICAgICAgICAgfQ0KICAgICAgICAgIHRoaXMuZmxpcE9ianNbaV0uZmxpcERvd24oDQogICAgICAgICAgICBub3dUaW1lU3RyW2ldLA0KICAgICAgICAgICAgbmV4dFRpbWVTdHJbaV0NCiAgICAgICAgICApDQogICAgICAgIH0NCiAgICAgIH0sIDEwMDApDQogICAgfSwNCiAgICAvLyDmraPliJnmoLzlvI/ljJbml6XmnJ8NCiAgICBmb3JtYXREYXRlKGRhdGUsIGRhdGVGb3JtYXQpIHsNCiAgICAgIC8qIOWNleeLrOagvOW8j+WMluW5tOS7ve+8jOagueaNrnnnmoTlrZfnrKbmlbDph4/ovpPlh7rlubTku70NCiAgICAgKiDkvovlpoLvvJp5eXl5ID0+IDIwMTkNCiAgICAgICAgICAgIHl5ID0+IDE5DQogICAgICAgICAgICB5ID0+IDkNCiAgICAgKi8NCiAgICAgIGlmICgvKHkrKS8udGVzdChkYXRlRm9ybWF0KSkgew0KICAgICAgICBkYXRlRm9ybWF0ID0gZGF0ZUZvcm1hdC5yZXBsYWNlKA0KICAgICAgICAgIFJlZ0V4cC4kMSwNCiAgICAgICAgICAoZGF0ZS5nZXRGdWxsWWVhcigpICsgJycpLnN1YnN0cig0IC0gUmVnRXhwLiQxLmxlbmd0aCkNCiAgICAgICAgKQ0KICAgICAgfQ0KICAgICAgLy8g5qC85byP5YyW5pyI44CB5pel44CB5pe244CB5YiG44CB56eSDQogICAgICBsZXQgbyA9IHsNCiAgICAgICAgJ20rJzogZGF0ZS5nZXRNb250aCgpICsgMSwNCiAgICAgICAgJ2QrJzogZGF0ZS5nZXREYXRlKCksDQogICAgICAgICdoKyc6IGRhdGUuZ2V0SG91cnMoKSwNCiAgICAgICAgJ2krJzogZGF0ZS5nZXRNaW51dGVzKCksDQogICAgICAgICdzKyc6IGRhdGUuZ2V0U2Vjb25kcygpDQogICAgICB9DQogICAgICBmb3IgKGxldCBrIGluIG8pIHsNCiAgICAgICAgaWYgKG5ldyBSZWdFeHAoYCgke2t9KWApLnRlc3QoZGF0ZUZvcm1hdCkpIHsNCiAgICAgICAgICAvLyDlj5blh7rlr7nlupTnmoTlgLwNCiAgICAgICAgICBsZXQgc3RyID0gb1trXSArICcnDQogICAgICAgICAgLyog5qC55o2u6K6+572u55qE5qC85byP77yM6L6T5Ye65a+55bqU55qE5a2X56ymDQogICAgICAgICAgICog5L6L5aaCOiDml6nkuIo45pe277yMaGggPT4gMDjvvIxoID0+IDgNCiAgICAgICAgICAgKiDkvYbmmK/vvIzlvZPmlbDlrZc+PTEw5pe277yM5peg6K665qC85byP5Li65LiA5L2N6L+Y5piv5aSa5L2N77yM5LiN5YGa5oiq5Y+W77yM6L+Z5piv5LiO5bm05Lu95qC85byP5YyW5LiN5LiA6Ie055qE5Zyw5pa5DQogICAgICAgICAgICog5L6L5aaCOiDkuIvljYgxNeaXtu+8jGhoID0+IDE1LCBoID0+IDE1DQogICAgICAgICAgICovDQogICAgICAgICAgZGF0ZUZvcm1hdCA9IGRhdGVGb3JtYXQucmVwbGFjZSgNCiAgICAgICAgICAgIFJlZ0V4cC4kMSwNCiAgICAgICAgICAgIFJlZ0V4cC4kMS5sZW5ndGggPT09IDEgPyBzdHIgOiB0aGlzLnBhZExlZnRaZXJvKHN0cikNCiAgICAgICAgICApDQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIHJldHVybiBkYXRlRm9ybWF0DQogICAgfSwNCiAgICAvLyDml6XmnJ/ml7bpl7TooaXpm7YNCiAgICBwYWRMZWZ0WmVybyhzdHIpIHsNCiAgICAgIHJldHVybiAoJzAwJyArIHN0cikuc3Vic3RyKHN0ci5sZW5ndGgpDQogICAgfQ0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuZmxpcE9ianMgPSBbDQogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJIb3VyMSwNCiAgICAgIHRoaXMuJHJlZnMuZmxpcHBlckhvdXIyLA0KICAgICAgdGhpcy4kcmVmcy5mbGlwcGVyTWludXRlMSwNCiAgICAgIHRoaXMuJHJlZnMuZmxpcHBlck1pbnV0ZTIsDQogICAgICB0aGlzLiRyZWZzLmZsaXBwZXJTZWNvbmQxLA0KICAgICAgdGhpcy4kcmVmcy5mbGlwcGVyU2Vjb25kMg0KICAgIF0NCiAgICB0aGlzLmluaXQoKQ0KICAgIHRoaXMucnVuKCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["FlipClock.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAmBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FlipClock.vue","sourceRoot":"src/components","sourcesContent":["/*\r\n * 翻牌时钟\r\n * @author： 兔子先生\r\n * @createDate: 2019-11-24\r\n */\r\n<template>\r\n  <div class=\"FlipClock\">\r\n    <Flipper ref=\"flipperHour1\" />\r\n    <Flipper ref=\"flipperHour2\" />\r\n    <em>:</em>\r\n    <Flipper ref=\"flipperMinute1\" />\r\n    <Flipper ref=\"flipperMinute2\" />\r\n    <em>:</em>\r\n    <Flipper ref=\"flipperSecond1\" />\r\n    <Flipper ref=\"flipperSecond2\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Flipper from './Flipper'\r\n\r\nexport default {\r\n  name: 'FlipClock',\r\n  data() {\r\n    return {\r\n      timer: null,\r\n      flipObjs: []\r\n    }\r\n  },\r\n  components: {\r\n    Flipper\r\n  },\r\n  methods: {\r\n    // 初始化数字\r\n    init() {\r\n      let now = new Date()\r\n      let nowTimeStr = this.formatDate(new Date(now.getTime()), 'hhiiss')\r\n       for (let i = 0; i < this.flipObjs.length; i++) {\r\n         this.flipObjs[i].setFront(nowTimeStr[i])\r\n       }\r\n    },\r\n    // 开始计时\r\n    run() {\r\n      this.timer = setInterval(() => {\r\n        // 获取当前时间\r\n        let now = new Date()\r\n        let nowTimeStr = this.formatDate(new Date(now.getTime() - 1000), 'hhiiss')\r\n        let nextTimeStr = this.formatDate(now, 'hhiiss')\r\n        for (let i = 0; i < this.flipObjs.length; i++) {\r\n          if (nowTimeStr[i] === nextTimeStr[i]) {\r\n            continue\r\n          }\r\n          this.flipObjs[i].flipDown(\r\n            nowTimeStr[i],\r\n            nextTimeStr[i]\r\n          )\r\n        }\r\n      }, 1000)\r\n    },\r\n    // 正则格式化日期\r\n    formatDate(date, dateFormat) {\r\n      /* 单独格式化年份，根据y的字符数量输出年份\r\n     * 例如：yyyy => 2019\r\n            yy => 19\r\n            y => 9\r\n     */\r\n      if (/(y+)/.test(dateFormat)) {\r\n        dateFormat = dateFormat.replace(\r\n          RegExp.$1,\r\n          (date.getFullYear() + '').substr(4 - RegExp.$1.length)\r\n        )\r\n      }\r\n      // 格式化月、日、时、分、秒\r\n      let o = {\r\n        'm+': date.getMonth() + 1,\r\n        'd+': date.getDate(),\r\n        'h+': date.getHours(),\r\n        'i+': date.getMinutes(),\r\n        's+': date.getSeconds()\r\n      }\r\n      for (let k in o) {\r\n        if (new RegExp(`(${k})`).test(dateFormat)) {\r\n          // 取出对应的值\r\n          let str = o[k] + ''\r\n          /* 根据设置的格式，输出对应的字符\r\n           * 例如: 早上8时，hh => 08，h => 8\r\n           * 但是，当数字>=10时，无论格式为一位还是多位，不做截取，这是与年份格式化不一致的地方\r\n           * 例如: 下午15时，hh => 15, h => 15\r\n           */\r\n          dateFormat = dateFormat.replace(\r\n            RegExp.$1,\r\n            RegExp.$1.length === 1 ? str : this.padLeftZero(str)\r\n          )\r\n        }\r\n      }\r\n      return dateFormat\r\n    },\r\n    // 日期时间补零\r\n    padLeftZero(str) {\r\n      return ('00' + str).substr(str.length)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.flipObjs = [\r\n      this.$refs.flipperHour1,\r\n      this.$refs.flipperHour2,\r\n      this.$refs.flipperMinute1,\r\n      this.$refs.flipperMinute2,\r\n      this.$refs.flipperSecond1,\r\n      this.$refs.flipperSecond2\r\n    ]\r\n    this.init()\r\n    this.run()\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n.FlipClock {\r\n    text-align: center;\r\n}\r\n.FlipClock .M-Flipper {\r\n    margin: 0 3px;\r\n}\r\n.FlipClock em {\r\n    display: inline-block;\r\n    line-height: 102px;\r\n    font-size: 66px;\r\n    font-style: normal;\r\n    vertical-align: top;\r\n}\r\n</style>\r\n"]}]}